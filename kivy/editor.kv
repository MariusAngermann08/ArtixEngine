<File>:
    file_menu: kv_file_menu
    icon: kv_icon
    file_name: kv_file_name

    size_hint_y: None
    height: 105
    size_hint_x: None
    width: 95

    
    
    #file context  
    ContextMenu:
        id: kv_file_menu
        visible: False
        cancel_handler_widget: root

        ContextMenuTextItem:
            font_size: 20
            text: "Delete"
    Button:
        size_hint: 1,0.8
        pos_hint: {"x":0,"y":0.2}
        background_normal: "kivy/icon/script.png"
        background_down: "kivy/icon/script.png"
        id: kv_icon
        on_press: root.select()
            
    TextInput:
        id: kv_file_name
        multiline: False
        line_height: 1
        foreground_color: 1,1,1,1
        background_color: 36/255,36/255,36/255,1
        background_normal: "kivy/img/white.png"
        background_active: "kivy/img/white.png"
        readonly: True
        text: "player_script.py"
        size_hint: 1,0.2
        pos_hint: {"x":0,"y":0}
        font_size: 12
        padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

       
            

<RoundedButton@Button>:
    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
    text: "Empty"
    size_hint_y: None
    height: 45
    canvas.before:
        Color:
            rgba: (.4,.4,.4,1) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [30,]

<DefaultButton>:
    text: "Empty"
    size_hint_y: None
    height: 60
    on_press: self.select()
    background_color: 125/255,125/255,125/255,1


<MyLayout>:
    viewport_layout: kv_viewport_layout
    scenetree_layout: kv_scenetree_layout
    scenelist_layout: kv_scenelist_layout
    scene_name_label: kv_scene_name_label
    file_manager: kv_file_manager
     
    id: layout

    TabbedPanel:
        do_default_tab: False
        size_hint: 0.60, 0.69
        pos_hint: {"x": 0.20, "y": 0.28}
        tab_width: 150

        TabbedPanelItem:
            text: "Viewport"
            font_size: 20
            FloatLayout:
                id: kv_viewport_layout
                canvas.before:
                    Color:
                        rgba: 255/255,255/255,255/255,1
                    Rectangle:
                        pos: self.pos
                        size: self.size
              
                
                
        TabbedPanelItem:
            text: "Scripting"
            font_size: 20
            FloatLayout:
                ScrollView:
                    size_hint: 0.3, 1
                    pos_hint: {"x": 0, "y":0}
                    size_hint_y: None
                    GridLayout:
                        cols: 1
                        height: self.minimum_height
                        spacing: 10
                        size_hint_y: None   
                CodeInput:
                    font_size: 20
                    size_hint: 0.7, 1
                    pos_hint: {"x": 0.3, "y": 0}
        TabbedPanelItem:
            text: "Documentation"
            font_size: 20
            GridLayout:
                cols: 1
                Label:
                    text: "A easy way to access the documentation while working on your game."

    FloatLayout:
        canvas.before:
            Color:
                rgba: 25/255,25/255,25/255,1
            Rectangle:
                pos: self.pos
                size: self.size
        size_hint: 0.20,0.05
        pos_hint: {"x": 0, "y": 0.28}
        Label:
            text: "Scenes"
            pos_hint: {"x": 0, "y": 0}
            size_hint: 1,1
            font_size: 25

    #Scene List
    ScrollView:
        size_hint: 0.20,0.28
        pos_hint: {"x": 0, "y":0}
        canvas.before:
            Color:
                rgba: 36/255,36/255,36/255,1
            Rectangle:
                pos: self.pos
                size: self.size
        GridLayout:
            id: kv_scenelist_layout
            #size_hint: 0.8,1
            #pos_hint: {"x":0.2,"y":0}
            cols: 1
            height: self.minimum_height
            spacing: 20
            size_hint_y: None
                

    
        

    #File Manager Menu Bar
    FloatLayout:
        canvas.before:
            Color:
                rgba: 25/255,25/255,25/255,1
            Rectangle:
                pos: self.pos
                size: self.size
        size_hint: 0.60,0.05
        pos_hint: {"x": 0.20, "y": 0.23}
        Button:
            size_hint: 0.15, 1
            pos_hint: {"x": 0, "y": 0}
            text: "Add"
            font_size: 20
            on_release: kv_fm_add_menu.show(*app.root_window.mouse_pos)
        
        RoundedButton:
            size_hint: 0.09, 0.9
            pos_hint: {"x": 0.9, "y": 0.05}
            text: "Delete"
            font_size: 18
            on_release: root.delete_file()

            
    #File Manager
    ScrollView:
        canvas.before:
            Color:
                rgba: 50/255, 50/255, 50/255, 1
            Rectangle:
                pos: self.pos
                size: self.size
        size_hint: 0.60,0.23
        pos_hint: {"x": 0.20, "y": 0}
        GridLayout:
            id: kv_file_manager
            cols: 9
            size_hint_y: None
            spacing: 20

            
    
        
            
    #File Manager Add Menu
    ContextMenu:
        id: kv_fm_add_menu
        visible: False
        cancel_handler_widget: layout

        ContextMenuTextItem:
            font_size: 20
            text: "Import"
            on_press: root.import_file()
        ContextMenuDivider:
        ContextMenuTextItem:
            text: "New"
            font_size: 20
            ContextMenu:
                ContextMenuTextItem:
                    text: "Event System"
                    font_size: 20
                ContextMenuTextItem:
                    text: "Python File(.py)"
                    font_size: 20
    
    #Properties Panel
    ScrollView:
        size_hint: 0.20,0.9
        pos_hint: {"x": 0.80}
        canvas.before:
            Color:
                rgba: 36/255,36/255,36/255,1
            Rectangle:
                pos: self.pos
                size: self.size
        GridLayout:
            cols: 1
            height: self.minimum_height
            spacing: 10
            size_hint_y: None
            Button:
                text: "Property 1"
                size_hint_y: None
                height: 85
            Button:
                text: "Property 2"
                size_hint_y: None
                height: 85
            Button:
                text: "Property 3"
                size_hint_y: None
                height: 85
    

    
    #SceneTree Headmenu
    FloatLayout:
        canvas.before:
            Color:
                rgba: 25/255,25/255,25/255,1
            Rectangle:
                pos: self.pos
                size: self.size
        size_hint: 0.20,0.075
        pos_hint: {"x": 0, "y": 0.9}
        Label:
            text: "Scene Name"
            id: kv_scene_name_label
            pos_hint: {"x": 0, "y": 0}
            size_hint: 0.5,1
            font_size: 25
        Button:
            background_color: 95/255,148/255,103/255,1
            text: "+"
            pos_hint: {"x": 0.75, "y": 0.05}
            size_hint: 0.2,0.8
            font_size: 25




    #Scene Tree
    ScrollView:
        size_hint: 0.20,0.57
        pos_hint: {"y": 0.33}
        canvas.before:
            Color:
                rgba: 36/255,36/255,36/255,1
            Rectangle:
                pos: self.pos
                size: self.size
        GridLayout:
            id: kv_scenetree_layout
            cols: 1
            height: self.minimum_height
            size_hint_y: None
            spacing: 10
            

    

            
    AppMenu:
        id: app_menu
        top: root.height
        cancel_handler_widget: layout

        AppMenuTextItem:
            text: "File"
            ContextMenu:
                ContextMenuTextItem:
                    text: "New Scene"
                ContextMenuTextItem:
                    text: "Open Scene"
                ContextMenuDivider:
                ContextMenuTextItem:
                    text: "Save"
                ContextMenuTextItem:
                    text: "Save As"
                ContextMenuTextItem:
                    text: "Editor Settings"
                ContextMenuDivider:
                ContextMenuTextItem:
                    text: "Exit"
        AppMenuTextItem:
            text: "Edit"
            ContextMenu:
                ContextMenuTextItem:
                    text: "Undo"
                ContextMenuTextItem:
                    text: "Redo"
                ContextMenuDivider:
                ContextMenuTextItem:
                    text: "Project Settings"
        AppMenuTextItem:
            text: "View"
            ContextMenu:
                ContextMenuTextItem:
                    text: "Load Language"
                    ContextMenu:
                        ContextMenuTextItem:
                            text: "English"
                        ContextMenuTextItem:
                            text: "Deutsch"
                ContextMenuDivider:
                ContextMenuTextItem:
                    text: "Toggle Complex View"
                ContextMenuTextItem:
                    text: "Toggle Simple View"
                # ...
        AppMenuTextItem:
            text: "Selection"
            ContextMenu:
                ContextMenuTextItem:
                    text: "Clear Selection"
                ContextMenuDivider:
                ContextMenuTextItem:
                    text: "Copy"
                ContextMenuTextItem:
                    text: "Paste"
                ContextMenuTextItem:
                    text: "Cut"
        AppMenuTextItem:
            text: "Export"
            ContextMenu:
                ContextMenuTextItem:
                    text: "Export Settings"
                ContextMenuDivider:
                ContextMenuTextItem:
                    text: "Export As"
                    ContextMenu:
                        ContextMenuTextItem:
                            text: "Executable(.exe)"
                        ContextMenuTextItem:
                            text: "Source Code(.py)"